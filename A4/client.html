<!DOCTYPE html>
  <html>
  <head>
  <meta charset="utf-8" />
  <title>SSE EventSource Example by Woolha</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/event-source-polyfill/0.0.9/eventsource.min.js"></script>
    <script>
      const es = new EventSource('http://127.0.0.1:5000/stream');
 
      const listener = function (event) {
        const type = event.type;

        window.console.log(`${type}: ${event.data || es.url}`);
 
        if (type === 'result') {
          es.close();
        }
      };
 
      es.addEventListener('open', listener);
      es.addEventListener('publish', listener);
      es.addEventListener('message', listener);
      es.addEventListener('error', listener);
      es.addEventListener('result', listener);
    </script>
  </head>
  <body>
  </body>
  </html>